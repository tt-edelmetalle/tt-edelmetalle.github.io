<!DOCTYPE html>
<html lang="de">
<head>
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; frame-ancestors 'none';">

    Content-Security-Policy: frame-ancestors 'none';
    X-Content-Type-Options: nosniff



    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>Edelmetall Experten-Quiz | T&T Edelmetalle</title>
    <meta name="description" content="Testen Sie Ihr Wissen über Gold, Silber und co. im interaktiven Edelmetall-Quiz." />
    <meta name="robots" content="index, follow" />
    <meta property="og:site_name" content="T&T Edelmetalle" />
    <meta property="og:title" content="Edelmetall Experten-Quiz" />
    <meta property="og:description" content="Sind Sie ein Gold-Experte? Testen Sie Ihr Wissen in 10 Fragen." />
    <meta property="og:type" content="website" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Quiz",
      "name": "Edelmetall Experten-Quiz",
      "description": "Testen Sie Ihr Wissen über Edelmetalle.",
      "educationalUse": "Assessment"
    }
    </script>

    <link rel="stylesheet" href="style.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* Quiz Spezifisch */
        .quiz-progress-track {
            height: 6px;
            background: rgba(255,255,255,0.05);
            border-radius: 99px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        .quiz-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--c-primary, #c5a059), #eab308);
            width: 0%;
            transition: width 0.4s ease;
        }
        .quiz-options { display: flex; flex-direction: column; gap: 12px; margin-top: 10px; }
        
        .option-btn {
            width: 100%; text-align: left;
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--c-border, #24313f);
            color: var(--c-text-main, #f1f5f9);
            padding: 16px; border-radius: 10px;
            font-weight: 500; cursor: pointer; transition: all 0.2s;
            display: flex; justify-content: space-between; align-items: center;
            font-family: inherit; font-size: 0.95rem;
        }
        .option-btn:hover:not(.disabled) { background: rgba(255,255,255,0.05); border-color: var(--c-primary, #c5a059); }
        .option-btn.disabled { opacity: 0.8; cursor: default; }
        
        /* Quiz Status Farben */
        .option-btn.correct { background: rgba(16, 185, 129, 0.15); border-color: #10b981; color: #10b981; }
        .option-btn.wrong { background: rgba(239, 68, 68, 0.15); border-color: #ef4444; color: #ef4444; }

        .explanation-box {
            display: none; margin-top: 20px; padding: 16px;
            background: rgba(197, 160, 89, 0.1);
            border-left: 3px solid var(--c-primary, #c5a059);
            border-radius: 6px; color: var(--c-text-muted, #9aa7bb);
            font-size: 0.95rem; line-height: 1.5;
            animation: fadeIn 0.4s ease;
        }
        .explanation-box.visible { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: none; } }

        /* Mobile Nav Simple Toggle Styles (falls nicht in style.css) */
        @media(max-width: 900px) {
            .nav-menu {
                display: none; position: absolute; top: 100%; left: 0; right: 0;
                background: var(--c-bg-card, #121824); border-bottom: 1px solid var(--c-border, #24313f);
                flex-direction: column; padding: 10px; z-index: 1000;
            }
            .nav-menu.active { display: flex; }
            .nav-item { width: 100%; display: block; margin-bottom: 5px; }
        }
    </style>
</head>
<body>
    <div id="main-app">
        
        <nav class="navbar" role="navigation" aria-label="Hauptnavigation">
            <div class="nav-inner">
                <a href="index.html" class="brand-logo"><i class="fa-solid fa-layer-group"></i><span>T&T</span>Edelmetalle</a>
                
                <button id="hamburger" class="btn btn-outline" onclick="toggleMobileNav()" aria-label="Menü"><i class="fa-solid fa-bars"></i></button>
                
                <div class="nav-menu" id="navMenu">
                    <a href="markt.html" class="nav-item">Marktübersicht</a>
                    <a href="rechner.html" class="nav-item">Portfolio Rechner</a>
                    <a href="wissen.html" class="nav-item">Wissenswertes</a>
                    <a href="quiz.html" class="nav-item active">Quiz</a>
                </div>
            </div>
        </nav>

        <div id="mobile-overlay" onclick="toggleMobileNav()"></div>

        <main class="container" style="padding-top:20px; padding-bottom:50px;">
            <div style="display:flex; flex-direction:column; gap:20px;">
                
                <div class="card" id="quiz-box">
                    <div class="card-header">
                        <h1 class="card-title">Experten-Quiz</h1>
                        <div class="card-title">
                            <span id="score-display">0</span> <i class="fa-solid fa-trophy" style="color:var(--c-primary, #c5a059); font-size:0.9em;"></i>
                        </div>
                    </div>

                    <div style="color:var(--c-text-muted); line-height:1.6; font-size:0.95rem; margin-bottom: 10px;">
                        <p style="margin-top:0;">
                            Testen Sie Ihr Investoren-Wissen zu Gold, Silber und co. in 10 Fragen.
                        </p>
                    </div>

                    <div class="quiz-progress-track">
                        <div id="progress" class="quiz-progress-fill"></div>
                    </div>

                    <div id="quiz-content-area">
                        <div style="display:flex; justify-content:space-between; color:var(--c-text-muted); font-size:0.85rem; margin-bottom:8px;">
                            <span id="q-counter">Frage 1 / 10</span>
                        </div>
                        
                        <h3 id="question-text" style="font-size: 1.25rem; font-weight: 600; margin: 0 0 20px 0; color:var(--c-text-main);">Lädt...</h3>
                        
                        <div id="options-container" class="quiz-options">
                            </div>
                        
                        <div id="explanation" class="explanation-box"></div>
                        
                        <div style="display:flex; justify-content:flex-end; margin-top: 20px;">
                            <button id="next-btn" class="btn btn-primary" onclick="nextQuestion()" style="display:none;">
                                Nächste Frage <i class="fa-solid fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <div id="result-container" style="display:none; text-align:center; padding: 20px 0; animation: fadeIn 0.5s ease;">
                        <i class="fa-solid fa-medal fa-3x" style="color:var(--c-primary, #c5a059); margin-bottom:16px;"></i>
                        <h2 style="margin:0 0 10px 0; font-size:1.8rem;">Quiz beendet!</h2>
                        
                        <div style="font-size: 2.5rem; font-weight: 800; color:var(--c-primary, #c5a059); margin: 10px 0;" id="final-score">0/10</div>
                        
                        <p id="result-text" style="color:var(--c-text-muted); margin:0 auto 24px; max-width:500px;"></p>
                        
                        <div style="display:flex; justify-content:center; gap:12px; flex-wrap:wrap;">
                            <button class="btn btn-outline" onclick="location.reload()">
                                <i class="fa-solid fa-rotate-right"></i> Neu starten
                            </button>
                            <a href="markt.html" class="btn btn-primary">
                                Zur Marktanalyse
                            </a>
                        </div>
                    </div>
                </div>

                <div class="card" style="border-top: 4px solid var(--c-primary, #c5a059);">
                    <div class="card-title" style="margin-bottom:12px;">Wussten Sie schon?</div>
                    <div style="font-size:0.9rem; color:var(--c-text-muted); line-height:1.5;">
                        Unsere Quizfragen basieren auf realen Marktdaten und historischen Fakten. Nutzen Sie den <a href="wissen.html" style="color:var(--c-primary, #c5a059);">Wissensbereich</a>, um sich auf das nächste Level vorzubereiten.
                    </div>
                </div>

            </div>
        </main>
        
        <footer>
            <div class="container" style="display:flex; flex-direction:column; gap:8px; align-items:center;">
                <div style="max-width:1000px; text-align:center; color:var(--c-text-muted, #9aa7bb); font-size:0.9rem;">&copy; 2025 T&T Edelmetalle. Alle Rechte vorbehalten.</div>
                <div style="display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:6px;">
                    <button class="btn btn-outline btn-sm" onclick="openLegal('impressum')">Impressum</button>
                    <button class="btn btn-outline btn-sm" onclick="openLegal('haftung')">Haftungsausschluss</button>
                    <button class="btn btn-outline btn-sm" onclick="openLegal('datenschutz')">Datenschutz</button>
                </div>
            </div>
        </footer>
        
        <div id="legal-overlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:900; align-items:center; justify-content:center; padding:16px;">
            <div id="legal-modal" style="max-width:900px; width:100%; max-height:85vh; overflow:auto; background:var(--c-bg-card, #121824); border:1px solid var(--c-border, #24313f); border-radius:12px; padding:20px;">
                <div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
                    <h3 id="legal-title" style="margin:0;">Rechtliches</h3>
                    <button class="btn btn-outline" onclick="closeLegal()"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div id="legal-content" style="margin-top:12px; color:var(--c-text-muted, #9aa7bb); line-height:1.45;"></div>
            </div>
        </div>
        
        <div id="consent-overlay" style="display:none;">
            </div>
    </div>

    <script src="script.js"></script>

    <script>
        // --- 1. Basic UI Logic (Falls script.js fehlt oder das Menü steuert) ---
        function toggleMobileNav() {
            const menu = document.getElementById('navMenu');
            menu.classList.toggle('active');
            // Falls ein Overlay genutzt wird:
            const overlay = document.getElementById('mobile-overlay');
            if(overlay) overlay.style.display = menu.classList.contains('active') ? 'block' : 'none';
        }

        // Dummy Funktionen für Footer, falls script.js fehlt
        if (typeof openLegal === 'undefined') {
            window.openLegal = function(type) { 
                document.getElementById('legal-overlay').style.display = 'flex';
                document.getElementById('legal-title').innerText = type.toUpperCase();
                document.getElementById('legal-content').innerText = "Inhalt für " + type + " wird geladen...";
            };
            window.closeLegal = function() { document.getElementById('legal-overlay').style.display = 'none'; };
        }

        // --- 2. QUIZ DATA & LOGIC ---
        const quizData = [
            {
                q: "Welches Edelmetall besitzt physikalisch die höchste elektrische Leitfähigkeit?",
                o: ["Gold", "Silber", "Kupfer", "Platin"],
                a: 1,
                info: "Silber leitet Strom besser als jedes andere Metall. Gold wird nur wegen der Korrosionsbeständigkeit verwendet."
            },
            {
                q: "Was bedeutet 'Feingehalt 585'?",
                o: ["58,5 % Goldanteil", "Gewicht von 5,85g", "585 Karat", "Eine Jahreszahl"],
                a: 0,
                info: "585er Gold entspricht 14 Karat (585 von 1000 Teilen sind reines Gold)."
            },
            {
                q: "Welches Land ist der größte Platin-Produzent?",
                o: ["Russland", "Kanada", "Südafrika", "USA"],
                a: 2,
                info: "Südafrika kontrolliert ca. 70-80% der weltweiten Platin-Primärförderung."
            },
            {
                q: "Wann wurde die Goldbindung des US-Dollars aufgehoben?",
                o: ["1929", "1971", "1944", "2001"],
                a: 1,
                info: "1971 beendete Richard Nixon die direkte Konvertierbarkeit (Nixon-Schock)."
            },
            {
                q: "Wie schwer ist eine Feinunze (Troy Ounce)?",
                o: ["28,35g", "30,00g", "31,10g", "33,33g"],
                a: 2,
                info: "Die Feinunze wiegt exakt ca. 31,1034768 Gramm."
            },
            {
                q: "Wofür wird Palladium hauptsächlich genutzt?",
                o: ["Katalysatoren (Benziner)", "Schmuck", "Zahnmedizin", "Raumfahrt"],
                a: 0,
                info: "Der Großteil der Nachfrage kommt aus der Automobilindustrie für Benzin-Katalysatoren."
            },
            {
                q: "Wer hält die größten Goldreserven?",
                o: ["Deutschland", "China", "USA", "IWF"],
                a: 2,
                info: "Die USA besitzen offiziell über 8.100 Tonnen Gold."
            },
            {
                q: "Was ist ein 'Good Delivery' Barren?",
                o: ["Kleiner Geschenkbarren", "Standardbarren (ca. 12,5kg)", "Münzbarren", "Rohgold"],
                a: 1,
                info: "Im professionellen Handel ist der 'London Good Delivery' (ca. 400 oz / 12,5 kg) Standard."
            },
            {
                q: "Welches Metall ist am dichtesten?",
                o: ["Gold", "Blei", "Osmium", "Silber"],
                a: 2,
                info: "Osmium ist mit 22,59 g/cm³ das dichteste natürlich vorkommende Element."
            },
            {
                q: "Wie verhält sich Silber in Krisenzeiten oft im Vergleich zu Gold?",
                o: ["Es schwankt weniger", "Es ist volatiler", "Es verliert immer an Wert", "Es bleibt gleich"],
                a: 1,
                info: "Silber hat einen kleineren Markt und ist oft deutlich volatiler (stärkere Schwankungen) als Gold."
            }
        ];

        let currentState = { index: 0, score: 0, answered: false };

        // DOM Elemente
        const elQuestionText = document.getElementById('question-text');
        const elOptionsContainer = document.getElementById('options-container');
        const elProgress = document.getElementById('progress');
        const elCounter = document.getElementById('q-counter');
        const elScoreDisplay = document.getElementById('score-display');
        const elExplanation = document.getElementById('explanation');
        const elNextBtn = document.getElementById('next-btn');
        const elResultContainer = document.getElementById('result-container');
        const elQuizContent = document.getElementById('quiz-content-area');

        function initQuiz() {
            currentState = { index: 0, score: 0, answered: false };
            elResultContainer.style.display = 'none';
            elQuizContent.style.display = 'block';
            elScoreDisplay.innerText = "0";
            loadQuestion();
        }

        function loadQuestion() {
            const data = quizData[currentState.index];
            currentState.answered = false;
            
            // Reset UI
            elExplanation.classList.remove('visible');
            elExplanation.innerHTML = '';
            elNextBtn.style.display = 'none';
            elOptionsContainer.innerHTML = '';
            
            // Set Text
            elQuestionText.innerText = data.q;
            elCounter.innerText = `Frage ${currentState.index + 1} / ${quizData.length}`;
            
            // Progress Bar
            const pct = (currentState.index / quizData.length) * 100;
            elProgress.style.width = `${pct}%`;

            // Create Buttons
            data.o.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `<span>${opt}</span>`;
                btn.onclick = () => handleAnswer(i, btn);
                elOptionsContainer.appendChild(btn);
            });
        }

        function handleAnswer(selectedIndex, btnElement) {
            if (currentState.answered) return;
            currentState.answered = true;
            
            const currentData = quizData[currentState.index];
            const allBtns = elOptionsContainer.querySelectorAll('.option-btn');
            
            // Disable all
            allBtns.forEach(b => b.classList.add('disabled'));

            if (selectedIndex === currentData.a) {
                btnElement.classList.add('correct');
                btnElement.innerHTML += ` <i class="fa-solid fa-check"></i>`;
                currentState.score++;
                elScoreDisplay.innerText = currentState.score;
            } else {
                btnElement.classList.add('wrong');
                btnElement.innerHTML += ` <i class="fa-solid fa-xmark"></i>`;
                // Show correct one
                const correctBtn = allBtns[currentData.a];
                correctBtn.classList.add('correct');
                correctBtn.innerHTML += ` <i class="fa-solid fa-check"></i>`;
            }

            // Explanation
            elExplanation.innerHTML = `<strong>Info:</strong> ${currentData.info}`;
            elExplanation.classList.add('visible');
            
            // Next Button
            elNextBtn.innerHTML = (currentState.index === quizData.length - 1) 
                ? `Ergebnis <i class="fa-solid fa-flag-checkered"></i>` 
                : `Weiter <i class="fa-solid fa-arrow-right"></i>`;
            elNextBtn.style.display = 'inline-flex';
        }

        function nextQuestion() {
            currentState.index++;
            if (currentState.index < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            elQuizContent.style.display = 'none';
            elResultContainer.style.display = 'block';
            elProgress.style.width = '100%';
            elCounter.innerText = "Fertig";

            document.getElementById('final-score').innerText = `${currentState.score} / ${quizData.length}`;
            
            const pct = (currentState.score / quizData.length);
            let msg = "Nicht schlecht! Schauen Sie nochmal in unseren Wissensbereich.";
            if (pct >= 0.8) msg = "Hervorragend! Sie sind ein echter Experte.";
            else if (pct >= 0.5) msg = "Gut gemacht! Solides Basiswissen.";
            
            document.getElementById('result-text').innerText = msg;
        }

        // Start
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>
